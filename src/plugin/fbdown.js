function _0x1d5b(_0x52ca68,_0x4415a1){const _0x689a8c=_0x689a();return _0x1d5b=function(_0x1d5bb9,_0x4bd849){_0x1d5bb9=_0x1d5bb9-0x1c0;let _0x3d0b26=_0x689a8c[_0x1d5bb9];return _0x3d0b26;},_0x1d5b(_0x52ca68,_0x4415a1);}(function(_0x5ca62b,_0x27cbb2){const _0x6d265f=_0x1d5b,_0x55d14e=_0x5ca62b();while(!![]){try{const _0x454a15=parseInt(_0x6d265f(0x1cb))/0x1*(parseInt(_0x6d265f(0x1e7))/0x2)+-parseInt(_0x6d265f(0x1c6))/0x3*(-parseInt(_0x6d265f(0x1ec))/0x4)+-parseInt(_0x6d265f(0x1cc))/0x5*(-parseInt(_0x6d265f(0x1c8))/0x6)+parseInt(_0x6d265f(0x1c7))/0x7*(parseInt(_0x6d265f(0x1cf))/0x8)+parseInt(_0x6d265f(0x1e4))/0x9+-parseInt(_0x6d265f(0x1de))/0xa*(parseInt(_0x6d265f(0x1ed))/0xb)+-parseInt(_0x6d265f(0x1e1))/0xc;if(_0x454a15===_0x27cbb2)break;else _0x55d14e['push'](_0x55d14e['shift']());}catch(_0x432c2d){_0x55d14e['push'](_0x55d14e['shift']());}}}(_0x689a,0xc6135));import _0x2403e9,{prepareWAMessageMedia}from'@whiskeysockets/baileys';const {generateWAMessageFromContent,proto}=_0x2403e9;import _0x26e1a7 from'@xaviabot/fb-downloader';import _0x2392d1 from'../../config.cjs';const fbSearchResultsMap=new Map();function _0x689a(){const _0x2fe042=['fbmedia_','PREFIX','quick_reply','sender','startsWith','111jRqYdL','20573sRhiue','114QFzpyz','remoteJid','slice','324dVxJEW','129525YqUfmx','sendMessage','Video\x20Qualities','144uqDHtK','Error\x20processing\x20your\x20request.','error','InteractiveMessage','video/mp4','Message','relayMessage','reply','message','nativeFlowResponseMessage','key','title','waUploadToServer','includes','length','10qoworj','Error\x20processing\x20your\x20request:','¬©\x20·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö\x20 ô è\x20·¥á·¥õ ú…™x-·¥ç·¥Ö','11047572kszgxL','thumbnail','parse','1734507qqXpKW','üì•\x20Download\x20','toLowerCase','2594KeLxzN','facebook','resolution','paramsJson','body','98396IuGycG','3698893yUxuEs','interactiveResponseMessage','log','fbdl','No\x20results\x20found.','push','from','create','split','React','Footer'];_0x689a=function(){return _0x2fe042;};return _0x689a();}let fbSearchIndex=0x1;const facebookCommand=async(_0x3fbd4b,_0x1986b8)=>{const _0x5ba319=_0x1d5b;let _0xba5d47;const _0x3bc42e=_0x3fbd4b?.[_0x5ba319(0x1d7)]?.['templateButtonReplyMessage']?.['selectedId'],_0x249ba7=_0x3fbd4b?.['message']?.[_0x5ba319(0x1ee)];if(_0x249ba7){const _0x59a544=_0x249ba7[_0x5ba319(0x1d8)]?.[_0x5ba319(0x1ea)];if(_0x59a544){const _0x307a53=JSON[_0x5ba319(0x1e3)](_0x59a544);_0xba5d47=_0x307a53['id'];}}const _0x73fbf3=_0xba5d47||_0x3bc42e,_0x1c8741=_0x2392d1[_0x5ba319(0x1c2)],_0x22e84a=_0x3fbd4b[_0x5ba319(0x1eb)][_0x5ba319(0x1c5)](_0x1c8741)?_0x3fbd4b[_0x5ba319(0x1eb)][_0x5ba319(0x1ca)](_0x1c8741[_0x5ba319(0x1dd)])[_0x5ba319(0x1f5)]('\x20')[0x0][_0x5ba319(0x1e6)]():'',_0x2402b7=_0x3fbd4b[_0x5ba319(0x1eb)][_0x5ba319(0x1ca)](_0x1c8741[_0x5ba319(0x1dd)]+_0x22e84a[_0x5ba319(0x1dd)])['trim'](),_0x38b872=[_0x5ba319(0x1e8),'fb',_0x5ba319(0x1f0)];if(_0x38b872[_0x5ba319(0x1dc)](_0x22e84a)){if(!_0x2402b7)return _0x3fbd4b[_0x5ba319(0x1d6)]('Please\x20provide\x20a\x20Facebook\x20video\x20URL.');try{await _0x3fbd4b[_0x5ba319(0x1f6)]('üïò');const _0x2aabc6=await _0x26e1a7(_0x2402b7);console[_0x5ba319(0x1ef)]('fbData:',_0x2aabc6);if(!_0x2aabc6){await _0x3fbd4b[_0x5ba319(0x1d6)](_0x5ba319(0x1f1)),await _0x3fbd4b[_0x5ba319(0x1f6)]('‚ùå');return;}fbSearchResultsMap['set'](fbSearchIndex,_0x2aabc6);const _0x5e619c=[];_0x2aabc6['sd']&&_0x5e619c['push']({'resolution':'SD','url':_0x2aabc6['sd']});_0x2aabc6['hd']&&_0x5e619c['push']({'resolution':'HD','url':_0x2aabc6['hd']});const _0x1d9641=_0x5e619c['map']((_0x32664b,_0x5a38c2)=>({'name':_0x5ba319(0x1c3),'buttonParamsJson':JSON['stringify']({'display_text':_0x5ba319(0x1e5)+_0x32664b[_0x5ba319(0x1e9)],'id':_0x5ba319(0x1c1)+_0x5a38c2+'_'+fbSearchIndex})})),_0x1682cc=_0x5e619c['map'](_0x3ceec9=>({'title':_0x5ba319(0x1ce),'rows':[{'title':_0x5ba319(0x1e5)+_0x3ceec9[_0x5ba319(0x1e9)],'description':'Resolution:\x20'+_0x3ceec9[_0x5ba319(0x1e9)],'id':_0x5ba319(0x1c1)+fbSearchIndex+'_'+_0x3ceec9[_0x5ba319(0x1e9)]}]})),_0x5f546f=generateWAMessageFromContent(_0x3fbd4b[_0x5ba319(0x1f3)],{'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':proto[_0x5ba319(0x1d4)][_0x5ba319(0x1d2)][_0x5ba319(0x1f4)]({'body':proto[_0x5ba319(0x1d4)]['InteractiveMessage']['Body'][_0x5ba319(0x1f4)]({'text':'*ùêìùêëùêÑùêó-ùêåùêÉ\x20FACEBOOK\x20POST\x20DOWNLOADER*\x0a\x0a>\x20*TITLE*:\x20'+_0x2aabc6[_0x5ba319(0x1da)]}),'footer':proto['Message'][_0x5ba319(0x1d2)][_0x5ba319(0x1c0)]['create']({'text':_0x5ba319(0x1e0)}),'header':proto[_0x5ba319(0x1d4)][_0x5ba319(0x1d2)]['Header']['create']({...await prepareWAMessageMedia({'image':{'url':_0x2aabc6[_0x5ba319(0x1e2)]}},{'upload':_0x1986b8[_0x5ba319(0x1db)]}),'title':'','gifPlayback':!![],'subtitle':'','hasMediaAttachment':![]}),'nativeFlowMessage':proto[_0x5ba319(0x1d4)]['InteractiveMessage']['NativeFlowMessage'][_0x5ba319(0x1f4)]({'buttons':_0x1d9641}),'contextInfo':{'quotedMessage':_0x3fbd4b[_0x5ba319(0x1d7)],'mentionedJid':[_0x3fbd4b[_0x5ba319(0x1c4)]],'forwardingScore':0x270f,'isForwarded':!![]}})}}},{});await _0x1986b8[_0x5ba319(0x1d5)](_0x5f546f[_0x5ba319(0x1d9)][_0x5ba319(0x1c9)],_0x5f546f[_0x5ba319(0x1d7)],{'messageId':_0x5f546f[_0x5ba319(0x1d9)]['id']}),await _0x3fbd4b[_0x5ba319(0x1f6)]('‚úÖ'),fbSearchIndex+=0x1;}catch(_0x35cee8){console[_0x5ba319(0x1d1)](_0x5ba319(0x1df),_0x35cee8),await _0x3fbd4b[_0x5ba319(0x1d6)](_0x5ba319(0x1d0)),await _0x3fbd4b[_0x5ba319(0x1f6)]('‚ùå');}}else{if(_0x73fbf3){if(_0x73fbf3[_0x5ba319(0x1c5)](_0x5ba319(0x1c1))){const _0x126b9c=_0x73fbf3[_0x5ba319(0x1f5)]('_'),_0x1488f8=parseInt(_0x126b9c[0x1]),_0x5a764f=parseInt(_0x126b9c[0x2]),_0x4c0303=fbSearchResultsMap['get'](_0x5a764f);if(_0x4c0303)try{const _0x16ae01=[];_0x4c0303['sd']&&_0x16ae01[_0x5ba319(0x1f2)]({'resolution':'SD','url':_0x4c0303['sd']});_0x4c0303['hd']&&_0x16ae01[_0x5ba319(0x1f2)]({'resolution':'HD','url':_0x4c0303['hd']});const _0x15ae47=_0x16ae01[_0x1488f8]['url'];let _0x4f2ce8,_0xb3fd52,_0x697546;_0x4f2ce8=await getStreamBuffer(_0x15ae47),_0xb3fd52=_0x5ba319(0x1d3);const _0x14af24=_0x4f2ce8['length']/(0x400*0x400);_0x14af24<=0x12c?(_0x697546={'video':_0x4f2ce8,'mimetype':_0x5ba319(0x1d3),'caption':'>\x20¬©\x20·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö\x20 ô è\x20ùêìùêëùêÑùêó-ùêåùêÉ'},await _0x1986b8[_0x5ba319(0x1cd)](_0x3fbd4b[_0x5ba319(0x1f3)],_0x697546,{'quoted':_0x3fbd4b})):await _0x3fbd4b[_0x5ba319(0x1d6)]('The\x20video\x20file\x20size\x20exceeds\x20300MB.');}catch(_0x11d284){console[_0x5ba319(0x1d1)](_0x5ba319(0x1df),_0x11d284),await _0x3fbd4b['reply']('Error\x20processing\x20your\x20request.'),await _0x3fbd4b[_0x5ba319(0x1f6)]('‚ùå');}}}}},getStreamBuffer=async _0x3899ea=>{const _0x595096=await fetch(_0x3899ea),_0x132ffc=await _0x595096['arrayBuffer']();return Buffer['from'](_0x132ffc);};export default facebookCommand;
